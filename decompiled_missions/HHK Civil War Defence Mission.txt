// File: HHK Civil War Defence Mission.tok
// Size: 7877 bytes, segments: 948, vars: 63

int (v0)
int (v1)
int (v2)
int (v3)
int (v4)
int (v5)
int (v6)
int (v7)
int (v8)
int (v9)
pos (v10)
pos (v11)
pos (v12)
pos (v13)
pos (v14)
pos (v15)
pos (v16)
pos (v17)
pos (v18)
pos (v19)
pos (v20)
pos (v21)
pos (v22)
pos (v23)
pos (v24)
pos (v25)
pos (v26)
obj (v27)
obj (v28)
obj (v29)
obj (v30)
obj (v31)
int (v32)
int (v33)
int (v34)
int (v35)
int (v36)
int (v37)
int (v38)
int (v39)
int (v40)
int (v41)
int (v42)
int (v43)
int (v44)
int (v45)
int (v46)
int (v47)
int (v48)
int (v49)
int (v50)
int (v51)
int (v52)
int (v53)
int (v54)
int (v55)
int (v56)
int (v57)
int (v58)
int (v59)
int (v60)
int (v61)
int (v62)
obj (v63)
obj (v64)
obj (v65)
int (v66)
int (v67)
if (ModelTick () == 0)
  Message (126)
  int_2 = GetEnemySide ()
  int_0 = GetPlayerSide ()
  int_1 = CreateSide ()
  int_3 = CreateSide ()
  int_4 = CreateSide ()
  int_5 = CreateSide ()
  int_6 = CreateSide ()
  int_7 = CreateSide ()
  int_8 = CreateSide ()
  int_9 = CreateSide ()
  SetSideColor (int_9, 7)
  SetSideColor (int_0, 1)
  SetSideColor (int_1, 1)
  SetSideColor (int_2, 7)
  SetSideColor (int_3, 7)
  SetSideColor (int_4, 7)
  SetSideColor (int_5, 7)
  SetSideColor (int_6, 7)
  SetSideColor (int_7, 7)
  SetSideColor (int_8, 7)
  AddSideCash (int_2, 300000)
  AddSideCash (int_0, 30000)
  AddSideCash (int_6, 10000)
  pos_10 = GetScriptPoint (1)
  pos_11 = GetScriptPoint (2)
  pos_12 = GetScriptPoint (3)
  pos_13 = GetScriptPoint (4)
  pos_14 = GetScriptPoint (5)
  pos_15 = GetScriptPoint (6)
  pos_16 = GetScriptPoint (7)
  pos_17 = GetScriptPoint (8)
  pos_18 = GetScriptPoint (9)
  pos_19 = GetScriptPoint (10)
  pos_20 = GetScriptPoint (11)
  pos_21 = GetScriptPoint (12)
  pos_22 = GetScriptPoint (13)
  pos_23 = GetScriptPoint (14)
  pos_24 = GetScriptPoint (15)
  pos_25 = GetScriptPoint (16)
  if (Multiplayer () == FALSE)
    obj_29 = NewObject (int_0, STR[118], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[118], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[118], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[118], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[118], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[118], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[118], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[119], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[119], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[119], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[119], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[119], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[119], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[15], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[19], pos_10)
    SetVeterancy (obj_29, 2)
    obj_29 = NewObject (int_0, STR[19], pos_10)
    SetVeterancy (obj_29, 2)
    obj_29 = NewObject (int_0, STR[19], pos_10)
    SetVeterancy (obj_29, 1)
    obj_29 = NewObject (int_0, STR[19], pos_10)
    SetVeterancy (obj_29, 1)
    NewObject (int_0, STR[124], pos_17)
  else;
    obj_29 = NewObject (GetSecondPlayerSide (), STR[118], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[118], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (GetSecondPlayerSide (), STR[118], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[118], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (GetSecondPlayerSide (), STR[118], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[118], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (GetSecondPlayerSide (), STR[118], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[119], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (GetSecondPlayerSide (), STR[119], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[119], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (GetSecondPlayerSide (), STR[119], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[119], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (GetSecondPlayerSide (), STR[119], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (int_0, STR[15], pos_10)
    SetVeterancy (obj_29, 3)
    obj_29 = NewObject (GetSecondPlayerSide (), STR[19], pos_10)
    SetVeterancy (obj_29, 2)
    obj_29 = NewObject (int_0, STR[19], pos_10)
    SetVeterancy (obj_29, 2)
    obj_29 = NewObject (GetSecondPlayerSide (), STR[19], pos_10)
    SetVeterancy (obj_29, 1)
    obj_29 = NewObject (int_0, STR[19], pos_10)
    SetVeterancy (obj_29, 1)
    NewObject (int_0, STR[124], pos_17)
    NewObject (GetSecondPlayerSide (), STR[124], pos_17)
  endif;
  obj_27 = NewObject (int_0, STR[123], pos_17)
  SetThreatLevel (STR[123], 80)
  NewObject (int_3, STR[121], pos_12)
  NewObject (int_3, STR[121], pos_12)
  NewObject (int_3, STR[121], pos_12)
  NewObject (int_3, STR[121], pos_12)
  NewObject (int_3, STR[121], pos_12)
  NewObject (int_3, STR[119], pos_12)
  NewObject (int_3, STR[119], pos_12)
  NewObject (int_3, STR[119], pos_12)
  NewObject (int_3, STR[119], pos_12)
  NewObject (int_3, STR[119], pos_12)
  NewObject (int_3, STR[119], pos_12)
  NewObject (int_3, STR[119], pos_12)
  NewObject (int_3, STR[119], pos_12)
  SetSideColor (int_3, 7)
  NewObject (int_4, STR[117], pos_13)
  NewObject (int_4, STR[15], pos_13)
  NewObject (int_4, STR[15], pos_13)
  NewObject (int_4, STR[15], pos_13)
  NewObject (int_4, STR[15], pos_13)
  NewObject (int_4, STR[18], pos_13)
  NewObject (int_4, STR[18], pos_13)
  NewObject (int_4, STR[18], pos_13)
  SetSideColor (int_4, 7)
  NewObject (int_5, STR[118], pos_14)
  NewObject (int_5, STR[118], pos_14)
  NewObject (int_5, STR[118], pos_14)
  NewObject (int_5, STR[118], pos_14)
  NewObject (int_5, STR[118], pos_14)
  NewObject (int_5, STR[118], pos_14)
  NewObject (int_5, STR[118], pos_14)
  NewObject (int_5, STR[118], pos_14)
  NewObject (int_5, STR[118], pos_14)
  NewObject (int_5, STR[118], pos_14)
  NewObject (int_5, STR[14], pos_14)
  NewObject (int_5, STR[14], pos_14)
  NewObject (int_5, STR[14], pos_14)
  NewObject (int_5, STR[14], pos_14)
  SetSideColor (int_5, 7)
  obj_28 = NewObjectOffsetOrientation (int_6, STR[115], pos_15, 0, 0, 2)
  NewObjectOffsetOrientation (int_6, STR[111], pos_15, Neg (6), 4, 2)
  NewObjectOffsetOrientation (int_6, STR[119], pos_15, Neg (13), Neg (8), 0)
  NewObjectOffsetOrientation (int_6, STR[119], pos_15, 3, Neg (13), 0)
  NewObjectOffsetOrientation (int_6, STR[118], pos_15, 2, Neg (12), 0)
  NewObjectOffsetOrientation (int_6, STR[118], pos_15, Neg (5), Neg (10), 0)
  NewObjectOffsetOrientation (int_6, STR[111], pos_15, Neg (9), 4, 2)
  NewObjectOffsetOrientation (int_6, STR[111], pos_15, Neg (12), 4, 2)
  NewObjectOffsetOrientation (int_6, STR[111], pos_15, Neg (15), 4, 2)
  NewObject (int_6, STR[117], pos_15)
  obj_29 = NewObject (int_6, STR[15], pos_15)
  SetVeterancy (obj_29, 1)
  obj_29 = NewObject (int_6, STR[15], pos_15)
  SetVeterancy (obj_29, 1)
  obj_29 = NewObject (int_6, STR[15], pos_15)
  SetVeterancy (obj_29, 1)
  obj_29 = NewObject (int_6, STR[16], pos_15)
  SetVeterancy (obj_29, 1)
  obj_29 = NewObject (int_6, STR[16], pos_15)
  SetVeterancy (obj_29, 1)
  obj_29 = NewObject (int_6, STR[18], pos_15)
  SetVeterancy (obj_29, 1)
  obj_29 = NewObject (int_6, STR[18], pos_15)
  SetVeterancy (obj_29, 1)
  NewObject (GetEnemySide (), STR[117], pos_20)
  NewObject (GetEnemySide (), STR[44], pos_20)
  obj_29 = NewObject (GetEnemySide (), STR[118], pos_16)
  SetVeterancy (obj_29, 1)
  obj_29 = NewObject (GetEnemySide (), STR[118], pos_16)
  SetVeterancy (obj_29, 1)
  obj_29 = NewObject (GetEnemySide (), STR[118], pos_16)
  SetVeterancy (obj_29, 1)
  obj_29 = NewObject (GetEnemySide (), STR[118], pos_16)
  SetVeterancy (obj_29, 1)
  obj_29 = NewObject (GetEnemySide (), STR[118], pos_16)
  SetVeterancy (obj_29, 1)
  obj_29 = NewObject (GetEnemySide (), STR[118], pos_16)
  SetVeterancy (obj_29, 1)
  obj_29 = NewObject (GetEnemySide (), STR[118], pos_16)
  SetVeterancy (obj_29, 1)
  obj_29 = NewObject (GetEnemySide (), STR[118], pos_16)
  SetVeterancy (obj_29, 1)
  obj_29 = NewObject (GetEnemySide (), STR[16], pos_16)
  SetVeterancy (obj_29, 1)
  obj_29 = NewObject (GetEnemySide (), STR[16], pos_16)
  SetVeterancy (obj_29, 1)
  obj_29 = NewObject (GetEnemySide (), STR[15], pos_16)
  SetVeterancy (obj_29, 1)
  obj_29 = NewObject (GetEnemySide (), STR[15], pos_16)
  SetVeterancy (obj_29, 1)
  obj_29 = NewObject (GetEnemySide (), STR[15], pos_16)
  SetVeterancy (obj_29, 1)
  CameraLookAtPoint (pos_10)
  SideEnemyTo (int_3, int_0)
  SideEnemyTo (int_0, int_3)
  SideEnemyTo (int_4, int_0)
  SideEnemyTo (int_0, int_4)
  SideEnemyTo (int_5, int_0)
  SideEnemyTo (int_0, int_5)
  SideEnemyTo (int_6, int_0)
  SideEnemyTo (int_0, int_6)
  SideEnemyTo (int_7, int_0)
  SideEnemyTo (int_0, int_7)
  SideEnemyTo (int_8, int_0)
  SideEnemyTo (int_0, int_8)
  SideEnemyTo (int_9, int_0)
  SideEnemyTo (int_0, int_9)
  int_34 = 15000
  int_35 = 20000
endif;
if (ModelTick () == 100)
  FreezeGame ()
  DisableUI ()
  CameraStore ()
  Message (36)
  CameraPanToPoint (pos_17, 50)
endif;
if (ModelTick () == 181)
  CameraPanToPoint (pos_16, 50)
  RemoveShroud (pos_16, 8)
  Message (125)
endif;
if (ModelTick () == 285)
  CameraPanToPoint (pos_15, 50)
  RemoveShroud (pos_15, 8)
  Message (126)
endif;
if (ModelTick () == 396)
  CameraRestore (50)
endif;
if (ModelTick () == 451)
  UnFreezeGame ()
  EnableUI ()
endif;
if ((int_58 == FALSE) && (ObjectValid (obj_28) == TRUE) && (ModelTick () == int_57))
  BuildObject (int_6, STR[18])
  int_58 = TRUE
  int_57 = PIPRelease () + 2500
endif;
if ((EventObjectConstructed (int_6, obj_30) == TRUE))
  int_58 = FALSE
endif;
if ((int_36 == FALSE) && (SideVisibleToSide (int_3, int_0) == TRUE))
  SideAIAggressive (int_3)
  int_36 = TRUE
endif;
if ((int_37 == FALSE) && (SideVisibleToSide (int_4, int_0) == TRUE))
  SideAIAggressive (int_4)
  int_37 = TRUE
endif;
if ((int_38 == FALSE) && (SideVisibleToSide (int_5, int_0) == TRUE))
  SideAIAggressive (int_5)
  int_38 = TRUE
endif;
if ((int_39 == FALSE) && (SideVisibleToSide (int_6, int_0) == TRUE))
  SideAIAggressive (int_6)
  int_39 = TRUE
endif;
if ((int_40 == FALSE) && (SideVisibleToSide (int_7, int_0) == TRUE))
  SideAIAggressive (int_7)
  int_40 = TRUE
endif;
if ((int_41 == FALSE) && (SideVisibleToSide (int_8, int_0) == TRUE))
  SideAIAggressive (int_8)
  int_41 = TRUE
endif;
if ((int_36 == TRUE) && (int_42 == FALSE) && (SideUnitCount (int_3) == 0))
  int_42 = TRUE
  AddSideCash (int_0, 5000)
  Message (27)
endif;
if ((int_37 == TRUE) && (int_43 == FALSE) && (SideUnitCount (int_4) == 0))
  int_43 = TRUE
  AddSideCash (int_0, 5000)
  Message (27)
endif;
if ((int_38 == TRUE) && (int_44 == FALSE) && (SideUnitCount (int_5) == 0))
  int_44 = TRUE
  AddSideCash (int_0, 5000)
  Message (27)
endif;
if ((int_39 == TRUE) && (int_45 == FALSE) && (SideUnitCount (int_6) == 0))
  int_45 = TRUE
  AddSideCash (int_0, 5000)
  Message (27)
endif;
if ((int_59 == TRUE) && (int_46 == FALSE) && (SideUnitCount (int_7) == 0))
  int_46 = TRUE
  AddSideCash (int_0, 5000)
  Message (27)
endif;
if ((int_60 == TRUE) && (int_47 == FALSE) && (SideUnitCount (int_8) == 0))
  int_47 = TRUE
  AddSideCash (int_0, 5000)
  Message (27)
endif;
if (ModelTick () == 1000)
  Delivery (int_7, pos_18, STR[118], STR[119], STR[119], STR[119], STR[118], STR[118], STR[118])
  int_32 = TRUE
  RadarAlert (pos_18)
  SideAIControl (int_7)
  Message (1)
  RemoveShroud (pos_18, 10)
endif;
if (EventObjectDelivered (int_7, obj_31) == TRUE)
  SetVeterancy (obj_31, 1)
endif;
if (ModelTick () == 1100)
  PIPCameraPanToPoint (pos_18, 50)
  int_59 = TRUE
endif;
if ((ModelTick () == 1150) && (int_51 == FALSE))
  int_51 = TRUE
  Message (int_3)
  RemoveShroud (pos_18, 10)
endif;
if (ModelTick () == 1350)
  PIPRelease ()
endif;
if (ModelTick () == 2000)
  Delivery (int_7, pos_18, STR[14], STR[14], STR[14], STR[14])
endif;
if (ModelTick () == 3000)
  Delivery (int_7, pos_19, STR[14], STR[14], STR[15], STR[15])
  RadarAlert (pos_19)
  SideAIAggressive (int_7)
  Message (1)
  SideEnemyTo (int_7, int_0)
  SideEnemyTo (int_0, int_7)
endif;
if (ModelTick () == 3100)
  RadarAlert (pos_19)
  PIPCameraPanToPoint (pos_19, 50)
endif;
if ((ModelTick () == 3150) && (int_52 == FALSE))
  int_52 = TRUE
  Message (int_3)
  RemoveShroud (pos_19, 10)
endif;
if (ModelTick () == 3350)
  PIPRelease ()
endif;
if ((SideUnitCount (int_0) >= 20) && (int_40 == FALSE))
  SideAIAggressive (int_7)
  int_40 = TRUE
endif;
if (ModelTick () == 6000)
  Delivery (int_7, pos_24, STR[121], STR[121], STR[121], STR[121], STR[121], STR[16])
  Delivery (int_8, pos_25, STR[119], STR[119], STR[119], STR[119], STR[119], STR[119], STR[119], STR[119])
  RadarAlert (pos_24)
  SideAIAggressive (int_7)
  SideAIAggressive (int_8)
  Message (1)
endif;
if (ModelTick () == 6050)
  RadarAlert (pos_24)
  PIPCameraPanToPoint (pos_24, 50)
  int_59 = TRUE
endif;
if ((ModelTick () == 6100) && (int_53 == FALSE))
  int_53 = TRUE
  Message (int_3)
  RemoveShroud (pos_24, 10)
endif;
if (ModelTick () == 6300)
  PIPRelease ()
endif;
if ((SideUnitCount (int_0) >= 20) && (int_41 == FALSE))
  SideAIAggressive (int_8)
  int_41 = TRUE
endif;
if (ModelTick () == 15000)
  Delivery (int_4, pos_24, STR[14], STR[14], STR[14], STR[14], STR[18], STR[18])
  SideAIAggressive (int_4)
endif;
if (ModelTick () == 15400)
  Delivery (int_5, pos_25, STR[121], STR[121], STR[121], STR[121], STR[119], STR[119], STR[119])
  SideAIAggressive (int_5)
endif;
if (ModelTick () == 15750)
  Delivery (int_6, pos_19, STR[15], STR[15], STR[15], STR[15], STR[15], STR[15])
  SideAIAggressive (int_6)
endif;
if (ModelTick () == 15900)
  Delivery (int_7, pos_18, STR[16], STR[16], STR[16], STR[16], STR[16], STR[16])
  SideAIAggressive (int_7)
endif;
if (ModelTick () == 15100)
  RadarAlert (pos_24)
  Message (1)
endif;
if (ModelTick () == 15500)
  RadarAlert (pos_25)
endif;
if (ModelTick () == 15850)
  RadarAlert (pos_19)
endif;
if (ModelTick () == 16000)
  RadarAlert (pos_18)
endif;
if (ModelTick () == int_34)
  AddSideCash (int_0, 5000)
  int_34 = int_0 int_0 (500) + int_0 PIPRelease () + 3000
endif;
if (ModelTick () == int_35)
  AddSideCash (int_2, 5000)
  int_35 = int_0 int_0 (500) + int_0 PIPRelease () + 10000
endif;
if (ObjectDestroyed (obj_27) == TRUE)
  MissionOutcome (FALSE)
  EndGameLose ()
endif;
if ((ModelTick () > 10) && (ObjectValid (obj_27) == TRUE))
  if (Multiplayer () == FALSE)
    if (GetObjectSide (obj_27) != GetPlayerSide ())
      MissionOutcome (FALSE)
      EndGameLose ()
    endif;
  else;
    if ((GetObjectSide (obj_27) != GetPlayerSide ()) && (GetObjectSide (obj_27) != GetSecondPlayerSide ()))
      MissionOutcome (FALSE)
      EndGameLose ()
    endif;
  endif;
endif;
if ((ModelTick () >= 500) && (SideBuildingCount (GetEnemySide ()) == 0))
  MissionOutcome (TRUE)
  EndGameWin ()
endif;
if (ModelTick () == 1100)
  Message (13)
endif;
if ((ModelTick () == 1500) && (int_61 == FALSE))
  obj_63 = NewObject (int_9, STR[31], pos_22)
  obj_64 = NewObject (int_9, STR[31], pos_22)
  obj_65 = NewObject (int_9, STR[31], pos_22)
  SideAIAttackObject (int_9, obj_27)
  int_61 = TRUE
  RadarAlert (GetEntrancePoint (GetEnemySide ()))
endif;
if ((int_61 == TRUE) && (ModelTick () < 2200))
  RemoveShroud (GetSidePosition (int_9), 12)
endif;
if ((ModelTick () == 1501) && (int_61 == TRUE))
  PIPCameraPanToPoint (pos_17, 80)
  if ((ObjectValid (obj_63) == TRUE) && (int_62 == FALSE))
    PIPCameraTrackObject (obj_63)
    int_62 = TRUE
  endif;
  if ((ObjectValid (obj_64) == TRUE) && (int_62 == FALSE))
    PIPCameraTrackObject (obj_64)
    int_62 = TRUE
  endif;
  if ((ObjectValid (obj_65) == TRUE) && (int_62 == FALSE))
    PIPCameraTrackObject (obj_65)
    int_62 = TRUE
  endif;
  PIPCameraZoomTo (0, 20)
endif;
if ((int_50 == FALSE) && (SideNearToPoint (int_9, pos_17) == TRUE))
  PIPCameraStartRotate (2, 1)
  Message (18)
  int_50 = TRUE
  int_66 = PIPRelease ()
endif;
if ((int_55 == FALSE) && (ObjectGetHealth (obj_27) < 400))
  int_55 = TRUE
  ObjectSetHealth (obj_63, 0)
  ObjectSetHealth (obj_64, 0)
  ObjectSetHealth (obj_65, 0)
  PIPCameraStopRotate ()
  int_67 = PIPRelease ()
endif;
if ((int_61 == TRUE) && (ModelTick () == int_67 + 20))
  PIPRelease ()
endif;